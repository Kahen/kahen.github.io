---
date: 2022-11-01
category:
  - Kotlin
tag:
  - any()
  - all()
  - none()
head:
  - - meta
    - name: keywords
      content: Kotlin, any(), all(), none(), collection, predicate operations
---
# Kotlin中的any()、none()和all()方法的区别 | Baeldung关于Kotlin的教程

Kotlin以其简洁的语法和强大的特性而闻名，尤其是在标准集合库中。这个库便于进行谓词操作，即在集合中对每个元素应用布尔条件，使得对集合进行广泛的过滤和处理操作成为可能。

在本教程中，我们将探讨三种这样的谓词操作：any()、all()和none()方法。这些方法帮助我们轻松地检查集合中是否满足某些条件。所有这些方法都可以应用于不同的集合，如List、Array、Sets、Map等。

### 2. any()方法

any()方法是一种方便的方式来检查集合中至少有一个元素是否符合给定的条件。**一旦它找到一个符合条件的元素，该方法会立即返回true**。

让我们通过一个例子来看：

```kotlin
val numbers = listOf(1, 2, 3, 4, 5, 6)
val hasEven = numbers.any { it % 2 == 0 }
assertTrue(hasEven)
```

在上面的代码中，它检查列表是否包含任何偶数。该方法遍历列表中的每个元素。当它遇到元素2，其中谓词匹配时，它会立即返回true，而不再处理更多的元素。

### 3. all()方法

**我们可以使用all()方法来检查集合中的每个元素是否符合谓词**：

```kotlin
val numbers = listOf(1, 2, 3, 4, 5, 6)
val allPositive = numbers.all { it > 0 }
assertTrue(allPositive)
```

上面的代码块验证列表是否只包含正数。因此，如果它遇到一个非正元素，该方法会立即返回false。

**需要注意的是，如果集合为空，此方法将返回true，遵循空真原则**。

### 4. none()方法

**none()方法仅在集合中没有元素满足给定谓词时返回true**。none()和all()方法在功能上互为补充。换句话说，none()检查条件的缺失，而all()验证条件的存在。

我们可以看一个示例代码：

```kotlin
val numbers = listOf(1, 2, 3, 4, 5)
val noZeroes = numbers.none { it == 0 }
assertTrue(noZeroes)
```

上面的代码验证列表不包含元素0。

### 5. 优缺点

虽然这些方法无疑很强大，但它们也有自己的优缺点。让我们在这一部分中检查一些。

#### 5.1. 优点

- 简洁且易于阅读
- 利用延迟评估和短路
- 支持声明式编程风格
- 通过函数范式提供可组合性和链式调用
- 正确处理集合中的null元素

#### 5.2. 缺点

- 需要小心避免在谓词中抛出异常
- 与传统循环操作相比，控制有限
- 有一个学习曲线和潜在的调试困难

### 6. 结论

在本文中，我们讨论了all()、none()和any()这些方法，它们提供了强大而富有表现力的方式来处理集合。这些方法使得在集合内进行简洁和声明式的条件检查成为可能。

**any()允许快速验证至少有一个元素满足条件，none()确认没有这样的元素，而all()验证每个元素都满足指定的标准**。通过有效使用这些方法，我们可以在Kotlin中编写更干净、更有表现力和更高效的代码。

如往常一样，本教程中使用的示例代码可在GitHub上找到。