---
date: 2022-04-01
category:
  - Java
tag:
  - Java
  - 编程技巧
head:
  - - meta
    - name: keywords
      content: Java, 编程技巧, -- > 操作符
---

# Java中“-- >”的含义是什么？

当我们阅读他人的代码时，有时会看到一些有趣且新颖的方法，我们以前从未见过。了解这些技巧可以显著提高我们对代码库的理解，并鼓励我们探索对Java编程的看法。

在本教程中，我们将讨论Java中的一个有趣用法：`-- >`。

## 2. 问题介绍

像往常一样，让我们从一个例子开始：

```java
int i = 6;
while (i-- > 0) {
    // 循环中的一些处理
}
```

乍一看，这段代码非常简单。一个while循环重复执行一些逻辑。

然而，如果我们更仔细地看看while语句，表达式`i-- > 0`是做什么的？我们可能以前没有见过`-- >`运算符的使用。如果我们在Java文档中搜索，我们可以找到的最接近的运算符是lambda表达式中使用的‘->’运算符。但显然，示例中的代码与lambda表达式无关。

那么，接下来，我们首先弄清楚`-- >`的作用。然后，我们将进行一个简短的测验，测试其他类似的技巧。

为了简化，我们将使用单元测试断言来展示变量值，而不是在本教程中打印它们。

## 3. 理解‘`-- >`’

首先，**(i-- > 0)中的“`-- >`”不是Java运算符。**实际上，**`(i-- > 0)`与`(i-- > 0)`或更清晰的格式：`((i--) > 0)`是相同的。**

因此，它执行两个操作：**对i进行后减和“大于0”的检查。**

当我们用值6初始化变量i时，循环内会生成一系列数字：5, 4, 3, 2, 1和0。按照这个序列，i变为-1，导致循环终止：

```java
List```<Integer>``` resultWhile = new ArrayList<>();
int i = 6;
while (i-- > 0) {
    resultWhile.add(i);
}
assertEquals(Lists.newArrayList(5, 4, 3, 2, 1, 0), resultWhile);
```

同样，我们可以在for循环中使用相同的技巧：

```java
List```<Integer>``` resultFor = new ArrayList<>();
for (int j = 6; j-- > 0; ) {
    resultFor.add(j);
}
assertEquals(Lists.newArrayList(5, 4, 3, 2, 1, 0), resultFor);
```

现在我们已经清楚地了解了`-- >`的作用。让我们在接下来的测验部分探索和试验一些类似的技巧。

## 4. 测验时间！

测验有四个挑战。

假设我们有一个整数列表：

```java
List```<Integer>``` result = new ArrayList<>();
```

对于每个挑战，整数列表将被重置，然后逐步在while循环中插入数字。我们的目标是**确定循环执行后列表中的数字。**

第一个挑战是理解`++ `<`。

### 4.1. 理解‘`++ <`’

```java
int i = -1;
while (i++ < 5) {
    result.add(i);
}
```

与`-- >``类似，**‘i++ `< 5’对i进行后增，并随后与5进行比较。**由于i的初始值为-1，我们将在结果中得到0到5：

```java
assertEquals(Lists.newArrayList(0, 1, 2, 3, 4, 5), result);
```

接下来，让我们解释另一个表达式`< --`。

### 4.2. 理解‘`< --`’

```java
result.clear();
int j = 10;
while (0 < --j) {
    result.add(j);
}
```

这次，正如上面的代码所示，**将后减操作更改为预减。**因此，循环将9到1填充到列表中：

```java
assertEquals(Lists.newArrayList(9, 8, 7, 6, 5, 4, 3, 2, 1), result);
```

然后，让我们看看一个类似的表达式`>` ++`。

### 4.3. 理解 ‘`> ++`’

```java
result.clear();
int n = 0;
while (6 > ++n) {
    result.add(n);
}
```

正如我们在代码片段中看到的，**‘6 > ++n’在每个循环步骤中预增i，然后与6进行比较。**因此，我们将得到1到5的结果：

```java
assertEquals(Lists.newArrayList(1, 2, 3, 4, 5), result);
```

最后，让我们看看一个看起来有点不同的挑战。

### 4.4. 理解 ‘`>>=`’

```java
result.clear();
int x = 32;
while ((x >>= 1) > 1) {
    result.add(x);
}
```

这个挑战与其他挑战不同。`x >>= 1`与预/后增或预/后减无关。**`>>=`是无符号右移运算符。**

因此，`x >>= 1`右移一位，结果与x/2相同。进一步地，**`x >>= 1`执行移位操作，并将结果重新赋值给变量x。**考虑到x=32，结果列表包含16, 8, 4和2：

```java
assertEquals(Lists.newArrayList(16, 8, 4, 2), result);
```

到目前为止，我们已经完成了挑战，并理解了‘`-- >`’和类似的技巧。

## 5. 结论

在本文中，我们讨论了Java中`-- >`的作用。此外，我们通过测验，探索了一些类似的技巧。

值得指出的是，当使用这些格式时，**建议在两个运算符之间插入空格或括号。这种做法提高了代码的可读性。**例如，最好写`i-- > 0`或`(i--) > 0`而不是`i-- >0`。

像往常一样，示例的完整源代码可以在GitHub上找到。